(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MrD0:function(e,t,n){"use strict";n.r(t),n.d(t,"RegistrationModule",function(){return _});var o=n("ofXK"),r=n("CQIY"),i=n("3Pt+"),a=n("fXoL"),c=n("UbJi"),s=n("I/3d");let l=(()=>{class e{constructor(e,t){this.auth=e,this.db=t}checkUserFound(e){return this.auth.fetchSignInMethodsForEmail(e.email)}createUserAccount(e){return this.auth.createUserWithEmailAndPassword(e.email,e.password)}}return e.\u0275fac=function(t){return new(t||e)(a.hc(c.a),a.hc(s.a))},e.\u0275prov=a.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("o6DF"),g=n("NEel"),b=n("1kSV"),u=n("tyNb"),p=n("YTKZ");const m=["err"];function h(e,t){if(1&e&&(a.ac(0,"option",36),a.Kc(1),a.Zb()),2&e){const e=t.$implicit;a.uc("value",e.id),a.Jb(1),a.Mc("",e.data.name," ")}}function f(e,t){if(1&e&&(a.ac(0,"option",36),a.Kc(1),a.Zb()),2&e){const e=t.$implicit;a.uc("value",e.id),a.Jb(1),a.Mc("",e.data.name," ")}}function w(e,t){if(1&e&&(a.ac(0,"option",36),a.Kc(1),a.Zb()),2&e){const e=t.$implicit;a.uc("value",e.id),a.Jb(1),a.Mc(" ",e.data.textDescription," ")}}function v(e,t){1&e&&(a.ac(0,"div"),a.ac(1,"div",37),a.ac(2,"div",38),a.Wb(3,"i",39),a.Zb(),a.ac(4,"p"),a.Kc(5," The error may be : "),a.Zb(),a.ac(6,"ul",40),a.ac(7,"li"),a.Kc(8,"The data you entered not in correct pattern."),a.Zb(),a.ac(9,"li"),a.Kc(10,"You are already registered."),a.Zb(),a.Zb(),a.Zb(),a.ac(11,"div",41),a.ac(12,"button",42),a.kc("click",function(){return t.$implicit.close("Close click")}),a.Kc(13,"OK"),a.Zb(),a.Zb(),a.Zb())}const Z=function(e,t){return{"far fa-eye":e,"fas fa-eye-slash":t}},C=function(){return["/Login"]},y=[{path:"User",component:(()=>{class e{constructor(e,t,n,o,r,a,c){this.registerAuth=e,this.branchDB=t,this.trackDB=n,this.FB=o,this.modalService=r,this.router=a,this.us=c,this.branches=[],this.tracks=[],this.durations=[],this.fieldTextType=!1,this.branches=this.branchDB.getBranches(),this.tracks=this.trackDB.getTracksData(),this.durations=this.trackDB.getScholarshipDurations(),this.registerNewUser=this.FB.group({firstName:new i.c("",[i.s.required,i.s.pattern(/^[a-zA-Z]{3,}[a-zA-Z_ ]*$/)]),lastName:new i.c("",[i.s.required,i.s.pattern(/^[a-zA-Z]{3,}[a-zA-Z_ ]*$/),i.s.minLength(3)]),nationalID:new i.c("",[i.s.required,i.s.pattern(/^[0-9]{14}$/)]),email:new i.c("",[i.s.required,i.s.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]),password:new i.c("",[i.s.required,i.s.pattern(/^[a-zA-Z0-9]{8,38}$/)]),branch:new i.c(-1,[i.s.required,i.s.min(0)]),track:new i.c(-1,[i.s.required,i.s.min(0)]),scholar:new i.c(-1,[i.s.required,i.s.min(0)])})}openModal(){this.modalService.open(this.myModal,{centered:!0})}ngOnInit(){}register(){if(this.registerNewUser.valid){this.regErr=r.a.Correct;let e={email:this.registerNewUser.value.email,password:this.registerNewUser.value.password,isPeople:!0,isAccepted:!1,isRemoved:!1,isReported:!1,reports:[]},t={firstName:this.registerNewUser.value.firstName,lastName:this.registerNewUser.value.lastName,nationalID:this.registerNewUser.value.nationalID,branch:this.registerNewUser.value.branch,track:this.registerNewUser.value.track,scholarshipDuration:this.registerNewUser.value.scholar,jobTitle:"",about:"",experiences:[],avatar:"https://firebasestorage.googleapis.com/v0/b/iti-community.appspot.com/o/UsersProfileImages%2Fnav-img_qv.fa2p71r?alt=media&token=131e5508-aa20-4b51-ac1a-a9e212eadc4f",avatarCover:"https://firebasestorage.googleapis.com/v0/b/iti-community.appspot.com/o/UsersProfileImages%2F1200x400.jpg?alt=media&token=cdc696ed-03b4-4d90-8064-548fe3417a1c",groups:[]};this.registerAuth.checkUserFound(e).then(n=>{0==n.length?this.registerAuth.createUserAccount(e).then(n=>{this.us.saveInDB(n.user.uid,e,t),n.user.sendEmailVerification().then(()=>{this.router.navigate(["/Login"]),this.regErr=r.a.Correct})}).catch(e=>{switch(e.code){case"auth/wrong-password":this.regErr=r.a.WrongPassword;case"auth/user-not-found":this.regErr=r.a.UserNotFound;case"auth/invalid-email":this.regErr=r.a.InvalidEmail}this.openModal()}):(this.regErr=r.a.EmailAlreadyInUse,this.openModal())})}else this.openModal()}}return e.\u0275fac=function(t){return new(t||e)(a.Vb(l),a.Vb(d.a),a.Vb(g.a),a.Vb(i.b),a.Vb(b.i),a.Vb(u.f),a.Vb(p.a))},e.\u0275cmp=a.Pb({type:e,selectors:[["app-user-registration"]],viewQuery:function(e,t){if(1&e&&a.Oc(m,1),2&e){let e;a.Bc(e=a.lc())&&(t.myModal=e.first)}},decls:80,vars:11,consts:[[1,"container-fluid"],[1,"row","registerContent"],[1,"col-sm-10","col-md-6","col-lg-4","mt-2","mb-2","userRegisterContainer"],["href","","id","loginLogo"],["src","../../../../assets/iti-logo.png",1,"header__logo"],[1,"header__separator"],[1,"header__title"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-2"],[1,"form-label","text-black-50"],["formControlName","firstName","type","text","ngbTooltip","First Name must be 3 charaters or more",1,"form-control"],["formControlName","lastName","type","text","ngbTooltip","Last Name must be 3 charaters or more",1,"form-control"],[1,"mb-2"],["formControlName","nationalID","type","text","minlength","14","maxlength","14","ngbTooltip","National ID must be 14 number",1,"form-control"],["formControlName","email","type","email","ngbTooltip","Email is not correct",1,"form-control"],[2,"display","flex","flex-direction","row"],["formControlName","password","minlength","8","maxlength","38","ngbTooltip","Password must started with charater and contain characters and numberswith 8 digits length",1,"form-control",3,"type"],[1,"icon",3,"click"],[3,"ngClass"],["formControlName","branch","ngbTooltip","You must choose your branch",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","track","ngbTooltip","You must choose your track",1,"form-control"],["formControlName","scholar","ngbTooltip","You must choose your scholar",1,"form-control"],["type","submit","id","registerButton",1,"btn","fs-6","col-12","rounded-pill","mt-2"],[1,"text-center","mt-2"],["id","signin"],["routerLinkActive","router-link-active",1,"text-decoration-none","fs-6","fw-bold",3,"routerLink"],[1,"container-fluid","footerSignIn"],["id","footerSignInLinks"],["href",""],["ngbDropdown","","placement","top-right",1,"dropup","languageDropup"],["id","dropdownConfig","ngbDropdownToggle","",1,"btn"],["ngbDropdownMenu","","aria-labelledby","dropdownConfig"],["ngbDropdownItem",""],["err",""],[3,"value"],[1,"modal-body"],[1,"errLogin"],[1,"fas","fa-times"],[2,"margin-left","2%"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(a.ac(0,"div",0),a.ac(1,"div",1),a.ac(2,"div",2),a.ac(3,"a",3),a.Wb(4,"img",4),a.Wb(5,"div",5),a.ac(6,"span",6),a.Kc(7,"Information Technology Institute"),a.Zb(),a.Zb(),a.ac(8,"form",7),a.kc("ngSubmit",function(){return t.register()}),a.ac(9,"div",8),a.ac(10,"div",9),a.ac(11,"label",10),a.Kc(12," First Name * "),a.Zb(),a.Wb(13,"input",11),a.Zb(),a.ac(14,"div",9),a.ac(15,"label",10),a.Kc(16," Last Name * "),a.Zb(),a.Wb(17,"input",12),a.Zb(),a.Zb(),a.ac(18,"div",13),a.ac(19,"label",10),a.Kc(20," National ID * "),a.Zb(),a.Wb(21,"input",14),a.Zb(),a.ac(22,"div",13),a.ac(23,"label",10),a.Kc(24,"Email address *"),a.Zb(),a.Wb(25,"input",15),a.Zb(),a.ac(26,"div",13),a.ac(27,"label",10),a.Kc(28," Password (8 or more characters and numbers) * "),a.Zb(),a.ac(29,"div",16),a.Wb(30,"input",17),a.ac(31,"span",18),a.kc("click",function(){return t.fieldTextType=!t.fieldTextType}),a.Wb(32,"i",19),a.Zb(),a.Zb(),a.Zb(),a.ac(33,"div",8),a.ac(34,"div",9),a.ac(35,"label",10),a.Kc(36," Branch * "),a.Zb(),a.ac(37,"select",20),a.Ic(38,h,2,2,"option",21),a.Zb(),a.Zb(),a.ac(39,"div",9),a.ac(40,"label",10),a.Kc(41," Track * "),a.Zb(),a.ac(42,"select",22),a.Ic(43,f,2,2,"option",21),a.Zb(),a.Zb(),a.Zb(),a.ac(44,"div",13),a.ac(45,"label",10),a.Kc(46," Scholarship Duration * "),a.Zb(),a.ac(47,"select",23),a.Ic(48,w,2,2,"option",21),a.Zb(),a.Zb(),a.ac(49,"button",24),a.Kc(50," Agree & Join "),a.Zb(),a.ac(51,"div",25),a.Kc(52," Already on ITI Community? "),a.ac(53,"div",26),a.ac(54,"a",27),a.Kc(55," Sign in "),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(56,"div",28),a.ac(57,"div",29),a.ac(58,"a",30),a.Kc(59,"User Agreement"),a.Zb(),a.ac(60,"a",30),a.Kc(61,"Privacy Policy"),a.Zb(),a.ac(62,"a",30),a.Kc(63,"Community Guidelines"),a.Zb(),a.ac(64,"a",30),a.Kc(65,"Cookie Policy"),a.Zb(),a.ac(66,"a",30),a.Kc(67,"Copyright Policy"),a.Zb(),a.ac(68,"a",30),a.Kc(69,"Send Feedback"),a.Zb(),a.ac(70,"span",31),a.ac(71,"a",32),a.Kc(72," Language "),a.Zb(),a.ac(73,"div",33),a.ac(74,"a",34),a.Kc(75,"Arabic"),a.Zb(),a.ac(76,"a",34),a.Kc(77,"English"),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Ic(78,v,14,0,"ng-template",null,35,a.Jc)),2&e&&(a.Jb(8),a.tc("formGroup",t.registerNewUser),a.Jb(22),a.tc("type",t.fieldTextType?"text":"password"),a.Jb(2),a.tc("ngClass",a.zc(7,Z,t.fieldTextType,!t.fieldTextType)),a.Jb(6),a.tc("ngForOf",t.branches),a.Jb(5),a.tc("ngForOf",t.tracks),a.Jb(5),a.tc("ngForOf",t.durations),a.Jb(6),a.tc("routerLink",a.xc(10,C)))},directives:[i.t,i.l,i.e,i.a,i.k,i.d,b.s,i.h,i.g,o.l,i.r,o.m,u.i,u.h,b.e,b.h,b.g,b.f,i.o,i.u],styles:["#loginLogo[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:8px}.header__logo[_ngcontent-%COMP%]{height:5rem;margin-right:.3rem}.header__separator[_ngcontent-%COMP%]{border-right:.2rem solid #901b20;height:5.2rem}.header__title[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2.16rem;font-weight:300;text-transform:capitalize;word-spacing:0;color:#6c757d;margin:.5rem 0 0 .5rem;width:254px}#loginLogo[_ngcontent-%COMP%]:hover{text-decoration:none}.header__logo-section[_ngcontent-%COMP%]{padding-top:.8rem}.header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%], .header__logo-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.userRegisterContainer[_ngcontent-%COMP%]{margin:auto;box-shadow:0 4px 12px #00000026;padding:1.5% 2.5%;background-color:#fff}#registerButton[_ngcontent-%COMP%]{border-radius:25px;border:none;padding:7px 0;width:100%;font-size:1rem;font-weight:500;background-color:#b4272d;color:#fff}#registerButton[_ngcontent-%COMP%]:hover{background-color:#94151b}#signin[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:2px 11px;border-radius:25px;cursor:pointer;display:inline;padding:0 11px;line-height:1.5}#signin[_ngcontent-%COMP%]:hover{background-color:#eee}#signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4272d!important}#signin[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#94151b!important}input.ng-dirty.ng-valid.ng-touched[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948!important}input.ng-touched.ng-dirty.ng-invalid[_ngcontent-%COMP%]:not(form), input.ng-touched.ng-pristine.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442!important}select.ng-dirty.ng-valid.ng-touched[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948!important}select.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form), select.ng-touched.ng-pristine.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442!important}  .tooltip-inner{background-color:#a94442}.footerSignIn[_ngcontent-%COMP%]{position:relative;bottom:5%;display:flex;flex-flow:row;margin:auto}#footerSignInLinks[_ngcontent-%COMP%]{margin:auto}.footerSignIn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#474747;font-size:.9rem;margin:0 5px}.footerSignIn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#474747}.languageDropup[_ngcontent-%COMP%]{background:none!important;border:none;color:#474747;font-size:.9rem}.languageDropup[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0}.errLogin[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;font-size:100px;margin:5% 0;color:#901b20}.icon[_ngcontent-%COMP%]{padding:1.4%;background:#fff;color:gray;min-width:50px;text-align:center;border:1px solid #ced4da;border-left:none;border-radius:0 .25rem .25rem 0}@media (max-width:780px){.footerSignIn[_ngcontent-%COMP%]{display:none}.userRegisterContainer[_ngcontent-%COMP%]{box-shadow:none}}"]}),e})()},{path:"",redirectTo:"/Register/User",pathMatch:"full"},{path:"**",redirectTo:"/User",pathMatch:"full"}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Tb({type:e}),e.\u0275inj=a.Sb({imports:[[o.c,u.j.forChild(y),b.k,i.f,i.p]]}),e})()}}]);